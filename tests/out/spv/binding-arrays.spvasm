; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 436
OpCapability Shader
OpCapability ImageQuery
OpCapability ShaderNonUniform
OpExtension "SPV_EXT_descriptor_indexing"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Fragment %64 "main" %59 %62
OpExecutionMode %64 OriginUpperLeft
OpMemberDecorate %4 0 Offset 0
OpMemberDecorate %21 0 Offset 0
OpDecorate %36 DescriptorSet 0
OpDecorate %36 Binding 0
OpDecorate %40 DescriptorSet 0
OpDecorate %40 Binding 1
OpDecorate %42 DescriptorSet 0
OpDecorate %42 Binding 2
OpDecorate %44 DescriptorSet 0
OpDecorate %44 Binding 3
OpDecorate %46 DescriptorSet 0
OpDecorate %46 Binding 4
OpDecorate %48 DescriptorSet 0
OpDecorate %48 Binding 5
OpDecorate %50 DescriptorSet 0
OpDecorate %50 Binding 6
OpDecorate %52 DescriptorSet 0
OpDecorate %52 Binding 7
OpDecorate %54 DescriptorSet 0
OpDecorate %54 Binding 8
OpDecorate %55 Block
OpMemberDecorate %55 0 Offset 0
OpDecorate %59 Location 0
OpDecorate %59 Flat
OpDecorate %62 Location 0
OpDecorate %99 NonUniform
OpDecorate %122 NonUniform
OpDecorate %124 NonUniform
OpDecorate %149 NonUniform
OpDecorate %151 NonUniform
OpDecorate %188 NonUniform
OpDecorate %216 NonUniform
OpDecorate %232 NonUniform
OpDecorate %248 NonUniform
OpDecorate %269 NonUniform
OpDecorate %271 NonUniform
OpDecorate %293 NonUniform
OpDecorate %295 NonUniform
OpDecorate %317 NonUniform
OpDecorate %319 NonUniform
OpDecorate %341 NonUniform
OpDecorate %343 NonUniform
OpDecorate %365 NonUniform
OpDecorate %367 NonUniform
OpDecorate %389 NonUniform
OpDecorate %391 NonUniform
OpDecorate %414 NonUniform
%2 = OpTypeVoid
%3 = OpTypeInt 32 0
%4 = OpTypeStruct %3
%6 = OpTypeFloat 32
%5 = OpTypeImage %6 2D 0 0 0 1 Unknown
%7 = OpTypeRuntimeArray %5
%9 = OpConstant  %3  5
%8 = OpTypeArray %5 %9
%10 = OpTypeImage %6 2D 0 1 0 1 Unknown
%11 = OpTypeArray %10 %9
%12 = OpTypeImage %6 2D 0 0 1 1 Unknown
%13 = OpTypeArray %12 %9
%14 = OpTypeImage %6 2D 1 0 0 1 Unknown
%15 = OpTypeArray %14 %9
%16 = OpTypeImage %6 2D 0 0 0 2 Rgba32f
%17 = OpTypeArray %16 %9
%18 = OpTypeSampler
%19 = OpTypeArray %18 %9
%20 = OpTypeArray %18 %9
%21 = OpTypeStruct %3
%22 = OpTypeVector %6 4
%23 = OpTypeVector %3 2
%24 = OpTypeVector %6 2
%26 = OpTypeInt 32 1
%25 = OpTypeVector %26 2
%27 = OpConstant  %26  0
%28 = OpConstant  %26  5
%29 = OpConstant  %26  1
%30 = OpConstant  %26  2
%31 = OpConstant  %26  3
%32 = OpConstant  %26  4
%33 = OpConstant  %26  6
%34 = OpConstant  %26  7
%35 = OpConstant  %26  8
%39 = OpConstant  %3  10
%38 = OpTypeArray %5 %39
%37 = OpTypePointer UniformConstant %38
%36 = OpVariable  %37  UniformConstant
%41 = OpTypePointer UniformConstant %8
%40 = OpVariable  %41  UniformConstant
%43 = OpTypePointer UniformConstant %11
%42 = OpVariable  %43  UniformConstant
%45 = OpTypePointer UniformConstant %13
%44 = OpVariable  %45  UniformConstant
%47 = OpTypePointer UniformConstant %15
%46 = OpVariable  %47  UniformConstant
%49 = OpTypePointer UniformConstant %17
%48 = OpVariable  %49  UniformConstant
%51 = OpTypePointer UniformConstant %19
%50 = OpVariable  %51  UniformConstant
%53 = OpTypePointer UniformConstant %20
%52 = OpVariable  %53  UniformConstant
%55 = OpTypeStruct %4
%56 = OpTypePointer Uniform %55
%54 = OpVariable  %56  Uniform
%60 = OpTypePointer Input %3
%59 = OpVariable  %60  Input
%63 = OpTypePointer Output %22
%62 = OpVariable  %63  Output
%65 = OpTypeFunction %2
%66 = OpTypePointer Uniform %4
%67 = OpConstant  %3  0
%69 = OpConstantComposite  %23  %67 %67
%70 = OpConstant  %6  0.0
%71 = OpConstantComposite  %22  %70 %70 %70 %70
%72 = OpConstantComposite  %24  %70 %70
%73 = OpConstantComposite  %25  %27 %27
%75 = OpTypePointer Function %3
%77 = OpTypePointer Function %23
%79 = OpTypePointer Function %6
%81 = OpTypePointer Function %22
%83 = OpTypePointer Uniform %3
%87 = OpTypePointer UniformConstant %5
%105 = OpTypePointer UniformConstant %18
%108 = OpTypeSampledImage %5
%129 = OpTypePointer UniformConstant %14
%132 = OpTypePointer UniformConstant %18
%135 = OpTypeSampledImage %14
%158 = OpTypeBool
%159 = OpConstantNull  %22
%165 = OpTypeVector %158 2
%201 = OpTypePointer UniformConstant %10
%204 = OpTypeVector %3 3
%236 = OpTypePointer UniformConstant %12
%396 = OpTypePointer UniformConstant %16
%64 = OpFunction  %2  None %65
%57 = OpLabel
%76 = OpVariable  %77  Function %69
%80 = OpVariable  %81  Function %71
%74 = OpVariable  %75  Function %67
%78 = OpVariable  %79  Function %70
%61 = OpLoad  %3  %59
%58 = OpCompositeConstruct  %21  %61
%68 = OpAccessChain  %66  %54 %67
OpBranch %82
%82 = OpLabel
%84 = OpAccessChain  %83  %68 %67
%85 = OpLoad  %3  %84
%86 = OpCompositeExtract  %3  %58 0
%88 = OpAccessChain  %87  %36 %67
%89 = OpLoad  %5  %88
%90 = OpImageQuerySizeLod  %23  %89 %67
%91 = OpLoad  %23  %76
%92 = OpIAdd  %23  %91 %90
OpStore %76 %92
%93 = OpAccessChain  %87  %36 %85
%94 = OpLoad  %5  %93
%95 = OpImageQuerySizeLod  %23  %94 %67
%96 = OpLoad  %23  %76
%97 = OpIAdd  %23  %96 %95
OpStore %76 %97
%98 = OpAccessChain  %87  %36 %86
%99 = OpLoad  %5  %98
%100 = OpImageQuerySizeLod  %23  %99 %67
%101 = OpLoad  %23  %76
%102 = OpIAdd  %23  %101 %100
OpStore %76 %102
%103 = OpAccessChain  %87  %40 %67
%104 = OpLoad  %5  %103
%106 = OpAccessChain  %105  %50 %67
%107 = OpLoad  %18  %106
%109 = OpSampledImage  %108  %104 %107
%110 = OpImageGather  %22  %109 %72 %67
%111 = OpLoad  %22  %80
%112 = OpFAdd  %22  %111 %110
OpStore %80 %112
%113 = OpAccessChain  %87  %40 %85
%114 = OpLoad  %5  %113
%115 = OpAccessChain  %105  %50 %85
%116 = OpLoad  %18  %115
%117 = OpSampledImage  %108  %114 %116
%118 = OpImageGather  %22  %117 %72 %67
%119 = OpLoad  %22  %80
%120 = OpFAdd  %22  %119 %118
OpStore %80 %120
%121 = OpAccessChain  %87  %40 %86
%122 = OpLoad  %5  %121
%123 = OpAccessChain  %105  %50 %86
%124 = OpLoad  %18  %123
%125 = OpSampledImage  %108  %122 %124
%126 = OpImageGather  %22  %125 %72 %67
%127 = OpLoad  %22  %80
%128 = OpFAdd  %22  %127 %126
OpStore %80 %128
%130 = OpAccessChain  %129  %46 %67
%131 = OpLoad  %14  %130
%133 = OpAccessChain  %132  %52 %67
%134 = OpLoad  %18  %133
%136 = OpSampledImage  %135  %131 %134
%137 = OpImageDrefGather  %22  %136 %72 %70
%138 = OpLoad  %22  %80
%139 = OpFAdd  %22  %138 %137
OpStore %80 %139
%140 = OpAccessChain  %129  %46 %85
%141 = OpLoad  %14  %140
%142 = OpAccessChain  %132  %52 %85
%143 = OpLoad  %18  %142
%144 = OpSampledImage  %135  %141 %143
%145 = OpImageDrefGather  %22  %144 %72 %70
%146 = OpLoad  %22  %80
%147 = OpFAdd  %22  %146 %145
OpStore %80 %147
%148 = OpAccessChain  %129  %46 %86
%149 = OpLoad  %14  %148
%150 = OpAccessChain  %132  %52 %86
%151 = OpLoad  %18  %150
%152 = OpSampledImage  %135  %149 %151
%153 = OpImageDrefGather  %22  %152 %72 %70
%154 = OpLoad  %22  %80
%155 = OpFAdd  %22  %154 %153
OpStore %80 %155
%156 = OpAccessChain  %87  %36 %67
%157 = OpLoad  %5  %156
%160 = OpImageQueryLevels  %26  %157
%161 = OpULessThan  %158  %27 %160
OpSelectionMerge %162 None
OpBranchConditional %161 %163 %162
%163 = OpLabel
%164 = OpImageQuerySizeLod  %25  %157 %27
%166 = OpULessThan  %165  %73 %164
%167 = OpAll  %158  %166
OpBranchConditional %167 %168 %162
%168 = OpLabel
%169 = OpImageFetch  %22  %157 %73 Lod %27
OpBranch %162
%162 = OpLabel
%170 = OpPhi  %22  %159 %82 %159 %163 %169 %168
%171 = OpLoad  %22  %80
%172 = OpFAdd  %22  %171 %170
OpStore %80 %172
%173 = OpAccessChain  %87  %36 %85
%174 = OpLoad  %5  %173
%175 = OpImageQueryLevels  %26  %174
%176 = OpULessThan  %158  %27 %175
OpSelectionMerge %177 None
OpBranchConditional %176 %178 %177
%178 = OpLabel
%179 = OpImageQuerySizeLod  %25  %174 %27
%180 = OpULessThan  %165  %73 %179
%181 = OpAll  %158  %180
OpBranchConditional %181 %182 %177
%182 = OpLabel
%183 = OpImageFetch  %22  %174 %73 Lod %27
OpBranch %177
%177 = OpLabel
%184 = OpPhi  %22  %159 %162 %159 %178 %183 %182
%185 = OpLoad  %22  %80
%186 = OpFAdd  %22  %185 %184
OpStore %80 %186
%187 = OpAccessChain  %87  %36 %86
%188 = OpLoad  %5  %187
%189 = OpImageQueryLevels  %26  %188
%190 = OpULessThan  %158  %27 %189
OpSelectionMerge %191 None
OpBranchConditional %190 %192 %191
%192 = OpLabel
%193 = OpImageQuerySizeLod  %25  %188 %27
%194 = OpULessThan  %165  %73 %193
%195 = OpAll  %158  %194
OpBranchConditional %195 %196 %191
%196 = OpLabel
%197 = OpImageFetch  %22  %188 %73 Lod %27
OpBranch %191
%191 = OpLabel
%198 = OpPhi  %22  %159 %177 %159 %192 %197 %196
%199 = OpLoad  %22  %80
%200 = OpFAdd  %22  %199 %198
OpStore %80 %200
%202 = OpAccessChain  %201  %42 %67
%203 = OpLoad  %10  %202
%205 = OpImageQuerySizeLod  %204  %203 %67
%206 = OpCompositeExtract  %3  %205 2
%207 = OpLoad  %3  %74
%208 = OpIAdd  %3  %207 %206
OpStore %74 %208
%209 = OpAccessChain  %201  %42 %85
%210 = OpLoad  %10  %209
%211 = OpImageQuerySizeLod  %204  %210 %67
%212 = OpCompositeExtract  %3  %211 2
%213 = OpLoad  %3  %74
%214 = OpIAdd  %3  %213 %212
OpStore %74 %214
%215 = OpAccessChain  %201  %42 %86
%216 = OpLoad  %10  %215
%217 = OpImageQuerySizeLod  %204  %216 %67
%218 = OpCompositeExtract  %3  %217 2
%219 = OpLoad  %3  %74
%220 = OpIAdd  %3  %219 %218
OpStore %74 %220
%221 = OpAccessChain  %87  %40 %67
%222 = OpLoad  %5  %221
%223 = OpImageQueryLevels  %3  %222
%224 = OpLoad  %3  %74
%225 = OpIAdd  %3  %224 %223
OpStore %74 %225
%226 = OpAccessChain  %87  %40 %85
%227 = OpLoad  %5  %226
%228 = OpImageQueryLevels  %3  %227
%229 = OpLoad  %3  %74
%230 = OpIAdd  %3  %229 %228
OpStore %74 %230
%231 = OpAccessChain  %87  %40 %86
%232 = OpLoad  %5  %231
%233 = OpImageQueryLevels  %3  %232
%234 = OpLoad  %3  %74
%235 = OpIAdd  %3  %234 %233
OpStore %74 %235
%237 = OpAccessChain  %236  %44 %67
%238 = OpLoad  %12  %237
%239 = OpImageQuerySamples  %3  %238
%240 = OpLoad  %3  %74
%241 = OpIAdd  %3  %240 %239
OpStore %74 %241
%242 = OpAccessChain  %236  %44 %85
%243 = OpLoad  %12  %242
%244 = OpImageQuerySamples  %3  %243
%245 = OpLoad  %3  %74
%246 = OpIAdd  %3  %245 %244
OpStore %74 %246
%247 = OpAccessChain  %236  %44 %86
%248 = OpLoad  %12  %247
%249 = OpImageQuerySamples  %3  %248
%250 = OpLoad  %3  %74
%251 = OpIAdd  %3  %250 %249
OpStore %74 %251
%252 = OpAccessChain  %87  %40 %67
%253 = OpLoad  %5  %252
%254 = OpAccessChain  %105  %50 %67
%255 = OpLoad  %18  %254
%256 = OpSampledImage  %108  %253 %255
%257 = OpImageSampleImplicitLod  %22  %256 %72
%258 = OpLoad  %22  %80
%259 = OpFAdd  %22  %258 %257
OpStore %80 %259
%260 = OpAccessChain  %87  %40 %85
%261 = OpLoad  %5  %260
%262 = OpAccessChain  %105  %50 %85
%263 = OpLoad  %18  %262
%264 = OpSampledImage  %108  %261 %263
%265 = OpImageSampleImplicitLod  %22  %264 %72
%266 = OpLoad  %22  %80
%267 = OpFAdd  %22  %266 %265
OpStore %80 %267
%268 = OpAccessChain  %87  %40 %86
%269 = OpLoad  %5  %268
%270 = OpAccessChain  %105  %50 %86
%271 = OpLoad  %18  %270
%272 = OpSampledImage  %108  %269 %271
%273 = OpImageSampleImplicitLod  %22  %272 %72
%274 = OpLoad  %22  %80
%275 = OpFAdd  %22  %274 %273
OpStore %80 %275
%276 = OpAccessChain  %87  %40 %67
%277 = OpLoad  %5  %276
%278 = OpAccessChain  %105  %50 %67
%279 = OpLoad  %18  %278
%280 = OpSampledImage  %108  %277 %279
%281 = OpImageSampleImplicitLod  %22  %280 %72 Bias %70
%282 = OpLoad  %22  %80
%283 = OpFAdd  %22  %282 %281
OpStore %80 %283
%284 = OpAccessChain  %87  %40 %85
%285 = OpLoad  %5  %284
%286 = OpAccessChain  %105  %50 %85
%287 = OpLoad  %18  %286
%288 = OpSampledImage  %108  %285 %287
%289 = OpImageSampleImplicitLod  %22  %288 %72 Bias %70
%290 = OpLoad  %22  %80
%291 = OpFAdd  %22  %290 %289
OpStore %80 %291
%292 = OpAccessChain  %87  %40 %86
%293 = OpLoad  %5  %292
%294 = OpAccessChain  %105  %50 %86
%295 = OpLoad  %18  %294
%296 = OpSampledImage  %108  %293 %295
%297 = OpImageSampleImplicitLod  %22  %296 %72 Bias %70
%298 = OpLoad  %22  %80
%299 = OpFAdd  %22  %298 %297
OpStore %80 %299
%300 = OpAccessChain  %129  %46 %67
%301 = OpLoad  %14  %300
%302 = OpAccessChain  %132  %52 %67
%303 = OpLoad  %18  %302
%304 = OpSampledImage  %135  %301 %303
%305 = OpImageSampleDrefImplicitLod  %6  %304 %72 %70
%306 = OpLoad  %6  %78
%307 = OpFAdd  %6  %306 %305
OpStore %78 %307
%308 = OpAccessChain  %129  %46 %85
%309 = OpLoad  %14  %308
%310 = OpAccessChain  %132  %52 %85
%311 = OpLoad  %18  %310
%312 = OpSampledImage  %135  %309 %311
%313 = OpImageSampleDrefImplicitLod  %6  %312 %72 %70
%314 = OpLoad  %6  %78
%315 = OpFAdd  %6  %314 %313
OpStore %78 %315
%316 = OpAccessChain  %129  %46 %86
%317 = OpLoad  %14  %316
%318 = OpAccessChain  %132  %52 %86
%319 = OpLoad  %18  %318
%320 = OpSampledImage  %135  %317 %319
%321 = OpImageSampleDrefImplicitLod  %6  %320 %72 %70
%322 = OpLoad  %6  %78
%323 = OpFAdd  %6  %322 %321
OpStore %78 %323
%324 = OpAccessChain  %129  %46 %67
%325 = OpLoad  %14  %324
%326 = OpAccessChain  %132  %52 %67
%327 = OpLoad  %18  %326
%328 = OpSampledImage  %135  %325 %327
%329 = OpImageSampleDrefExplicitLod  %6  %328 %72 %70 Lod %70
%330 = OpLoad  %6  %78
%331 = OpFAdd  %6  %330 %329
OpStore %78 %331
%332 = OpAccessChain  %129  %46 %85
%333 = OpLoad  %14  %332
%334 = OpAccessChain  %132  %52 %85
%335 = OpLoad  %18  %334
%336 = OpSampledImage  %135  %333 %335
%337 = OpImageSampleDrefExplicitLod  %6  %336 %72 %70 Lod %70
%338 = OpLoad  %6  %78
%339 = OpFAdd  %6  %338 %337
OpStore %78 %339
%340 = OpAccessChain  %129  %46 %86
%341 = OpLoad  %14  %340
%342 = OpAccessChain  %132  %52 %86
%343 = OpLoad  %18  %342
%344 = OpSampledImage  %135  %341 %343
%345 = OpImageSampleDrefExplicitLod  %6  %344 %72 %70 Lod %70
%346 = OpLoad  %6  %78
%347 = OpFAdd  %6  %346 %345
OpStore %78 %347
%348 = OpAccessChain  %87  %40 %67
%349 = OpLoad  %5  %348
%350 = OpAccessChain  %105  %50 %67
%351 = OpLoad  %18  %350
%352 = OpSampledImage  %108  %349 %351
%353 = OpImageSampleExplicitLod  %22  %352 %72 Grad %72 %72
%354 = OpLoad  %22  %80
%355 = OpFAdd  %22  %354 %353
OpStore %80 %355
%356 = OpAccessChain  %87  %40 %85
%357 = OpLoad  %5  %356
%358 = OpAccessChain  %105  %50 %85
%359 = OpLoad  %18  %358
%360 = OpSampledImage  %108  %357 %359
%361 = OpImageSampleExplicitLod  %22  %360 %72 Grad %72 %72
%362 = OpLoad  %22  %80
%363 = OpFAdd  %22  %362 %361
OpStore %80 %363
%364 = OpAccessChain  %87  %40 %86
%365 = OpLoad  %5  %364
%366 = OpAccessChain  %105  %50 %86
%367 = OpLoad  %18  %366
%368 = OpSampledImage  %108  %365 %367
%369 = OpImageSampleExplicitLod  %22  %368 %72 Grad %72 %72
%370 = OpLoad  %22  %80
%371 = OpFAdd  %22  %370 %369
OpStore %80 %371
%372 = OpAccessChain  %87  %40 %67
%373 = OpLoad  %5  %372
%374 = OpAccessChain  %105  %50 %67
%375 = OpLoad  %18  %374
%376 = OpSampledImage  %108  %373 %375
%377 = OpImageSampleExplicitLod  %22  %376 %72 Lod %70
%378 = OpLoad  %22  %80
%379 = OpFAdd  %22  %378 %377
OpStore %80 %379
%380 = OpAccessChain  %87  %40 %85
%381 = OpLoad  %5  %380
%382 = OpAccessChain  %105  %50 %85
%383 = OpLoad  %18  %382
%384 = OpSampledImage  %108  %381 %383
%385 = OpImageSampleExplicitLod  %22  %384 %72 Lod %70
%386 = OpLoad  %22  %80
%387 = OpFAdd  %22  %386 %385
OpStore %80 %387
%388 = OpAccessChain  %87  %40 %86
%389 = OpLoad  %5  %388
%390 = OpAccessChain  %105  %50 %86
%391 = OpLoad  %18  %390
%392 = OpSampledImage  %108  %389 %391
%393 = OpImageSampleExplicitLod  %22  %392 %72 Lod %70
%394 = OpLoad  %22  %80
%395 = OpFAdd  %22  %394 %393
OpStore %80 %395
%397 = OpAccessChain  %396  %48 %67
%398 = OpLoad  %16  %397
%399 = OpLoad  %22  %80
%400 = OpImageQuerySize  %25  %398
%401 = OpULessThan  %165  %73 %400
%402 = OpAll  %158  %401
OpSelectionMerge %403 None
OpBranchConditional %402 %404 %403
%404 = OpLabel
OpImageWrite %398 %73 %399
OpBranch %403
%403 = OpLabel
%405 = OpAccessChain  %396  %48 %85
%406 = OpLoad  %16  %405
%407 = OpLoad  %22  %80
%408 = OpImageQuerySize  %25  %406
%409 = OpULessThan  %165  %73 %408
%410 = OpAll  %158  %409
OpSelectionMerge %411 None
OpBranchConditional %410 %412 %411
%412 = OpLabel
OpImageWrite %406 %73 %407
OpBranch %411
%411 = OpLabel
%413 = OpAccessChain  %396  %48 %86
%414 = OpLoad  %16  %413
%415 = OpLoad  %22  %80
%416 = OpImageQuerySize  %25  %414
%417 = OpULessThan  %165  %73 %416
%418 = OpAll  %158  %417
OpSelectionMerge %419 None
OpBranchConditional %418 %420 %419
%420 = OpLabel
OpImageWrite %414 %73 %415
OpBranch %419
%419 = OpLabel
%421 = OpLoad  %23  %76
%422 = OpLoad  %3  %74
%423 = OpCompositeConstruct  %23  %422 %422
%424 = OpIAdd  %23  %421 %423
%425 = OpConvertUToF  %24  %424
%426 = OpLoad  %22  %80
%427 = OpCompositeExtract  %6  %425 0
%428 = OpCompositeExtract  %6  %425 1
%429 = OpCompositeExtract  %6  %425 0
%430 = OpCompositeExtract  %6  %425 1
%431 = OpCompositeConstruct  %22  %427 %428 %429 %430
%432 = OpFAdd  %22  %426 %431
%433 = OpLoad  %6  %78
%434 = OpCompositeConstruct  %22  %433 %433 %433 %433
%435 = OpFAdd  %22  %432 %434
OpStore %62 %435
OpReturn
OpFunctionEnd