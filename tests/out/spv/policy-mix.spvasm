; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 101
OpCapability Shader
OpCapability ImageQuery
OpCapability Linkage
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpSource GLSL 450
OpMemberName %12 0 "a"
OpName %12 "InStorage"
OpMemberName %14 0 "a"
OpName %14 "InUniform"
OpName %20 "in_storage"
OpName %23 "in_uniform"
OpName %26 "image_2d_array"
OpName %28 "in_workgroup"
OpName %30 "in_private"
OpName %33 "in_function"
OpName %37 "c"
OpName %38 "i"
OpName %39 "l"
OpName %40 "mock_function"
OpDecorate %11 ArrayStride 16
OpMemberDecorate %12 0 Offset 0
OpDecorate %13 ArrayStride 16
OpMemberDecorate %14 0 Offset 0
OpDecorate %16 ArrayStride 4
OpDecorate %17 ArrayStride 4
OpDecorate %19 ArrayStride 16
OpDecorate %20 NonWritable
OpDecorate %20 DescriptorSet 0
OpDecorate %20 Binding 0
OpDecorate %21 Block
OpMemberDecorate %21 0 Offset 0
OpDecorate %23 DescriptorSet 0
OpDecorate %23 Binding 1
OpDecorate %24 Block
OpMemberDecorate %24 0 Offset 0
OpDecorate %26 DescriptorSet 0
OpDecorate %26 Binding 2
%2 = OpTypeVoid
%4 = OpTypeInt 32 1
%3 = OpConstant  %4  10
%5 = OpConstant  %4  20
%6 = OpConstant  %4  30
%7 = OpConstant  %4  40
%8 = OpConstant  %4  2
%10 = OpTypeFloat 32
%9 = OpTypeVector %10 4
%11 = OpTypeArray %9 %3
%12 = OpTypeStruct %11
%13 = OpTypeArray %9 %5
%14 = OpTypeStruct %13
%15 = OpTypeImage %10 2D 0 1 0 1 Unknown
%16 = OpTypeArray %10 %6
%17 = OpTypeArray %10 %7
%18 = OpTypeVector %4 2
%19 = OpTypeArray %9 %8
%21 = OpTypeStruct %12
%22 = OpTypePointer StorageBuffer %21
%20 = OpVariable  %22  StorageBuffer
%24 = OpTypeStruct %14
%25 = OpTypePointer Uniform %24
%23 = OpVariable  %25  Uniform
%27 = OpTypePointer UniformConstant %15
%26 = OpVariable  %27  UniformConstant
%29 = OpTypePointer Workgroup %16
%28 = OpVariable  %29  Workgroup
%31 = OpTypePointer Private %17
%32 = OpConstantNull  %17
%30 = OpVariable  %31  Private %32
%34 = OpTypePointer Function %19
%35 = OpConstantNull  %19
%41 = OpTypeFunction %9 %18 %4 %4
%42 = OpTypePointer StorageBuffer %12
%44 = OpTypeInt 32 0
%43 = OpConstant  %44  0
%46 = OpTypePointer Uniform %14
%49 = OpConstant  %10  0.707
%50 = OpConstant  %10  0.0
%51 = OpConstant  %10  1.0
%56 = OpTypePointer StorageBuffer %11
%57 = OpTypePointer StorageBuffer %9
%60 = OpTypePointer Uniform %13
%61 = OpTypePointer Uniform %9
%65 = OpTypeVector %4 3
%67 = OpTypeBool
%68 = OpConstantNull  %9
%74 = OpTypeVector %67 3
%81 = OpTypePointer Workgroup %10
%82 = OpConstant  %44  29
%88 = OpTypePointer Private %10
%89 = OpConstant  %44  39
%95 = OpTypePointer Function %9
%96 = OpConstant  %44  1
%40 = OpFunction  %9  None %41
%37 = OpFunctionParameter  %18
%38 = OpFunctionParameter  %4
%39 = OpFunctionParameter  %4
%36 = OpLabel
%33 = OpVariable  %34  Function %35
%45 = OpAccessChain  %42  %20 %43
%47 = OpAccessChain  %46  %23 %43
%48 = OpLoad  %15  %26
OpBranch %52
%52 = OpLabel
%53 = OpCompositeConstruct  %9  %49 %50 %50 %51
%54 = OpCompositeConstruct  %9  %50 %49 %50 %51
%55 = OpCompositeConstruct  %19  %53 %54
OpStore %33 %55
%58 = OpAccessChain  %57  %45 %43 %38
%59 = OpLoad  %9  %58
%62 = OpAccessChain  %61  %47 %43 %38
%63 = OpLoad  %9  %62
%64 = OpFAdd  %9  %59 %63
%66 = OpCompositeConstruct  %65  %37 %38
%69 = OpImageQueryLevels  %4  %48
%70 = OpULessThan  %67  %39 %69
OpSelectionMerge %71 None
OpBranchConditional %70 %72 %71
%72 = OpLabel
%73 = OpImageQuerySizeLod  %65  %48 %39
%75 = OpULessThan  %74  %66 %73
%76 = OpAll  %67  %75
OpBranchConditional %76 %77 %71
%77 = OpLabel
%78 = OpImageFetch  %9  %48 %66 Lod %39
OpBranch %71
%71 = OpLabel
%79 = OpPhi  %9  %68 %52 %68 %72 %78 %77
%80 = OpFAdd  %9  %64 %79
%83 = OpExtInst  %44  %1 UMin %38 %82
%84 = OpAccessChain  %81  %28 %83
%85 = OpLoad  %10  %84
%86 = OpCompositeConstruct  %9  %85 %85 %85 %85
%87 = OpFAdd  %9  %80 %86
%90 = OpExtInst  %44  %1 UMin %38 %89
%91 = OpAccessChain  %88  %30 %90
%92 = OpLoad  %10  %91
%93 = OpCompositeConstruct  %9  %92 %92 %92 %92
%94 = OpFAdd  %9  %87 %93
%97 = OpExtInst  %44  %1 UMin %38 %96
%98 = OpAccessChain  %95  %33 %97
%99 = OpLoad  %9  %98
%100 = OpFAdd  %9  %94 %99
OpReturnValue %100
OpFunctionEnd