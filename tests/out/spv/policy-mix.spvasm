; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 101
OpCapability Shader
OpCapability ImageQuery
OpCapability Linkage
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpSource GLSL 450
OpName %13 "vec4<f32>"
OpName %14 "array<vec4<f32>, 10>"
OpMemberName %15 0 "a"
OpName %15 "InStorage"
OpName %16 "array<vec4<f32>, 20>"
OpMemberName %17 0 "a"
OpName %17 "InUniform"
OpName %18 "texture_2d_array<float>"
OpName %9 "f32"
OpName %19 "array<f32, 30>"
OpName %20 "array<f32, 40>"
OpName %21 "vec2<i32>"
OpName %22 "i32"
OpName %23 "array<vec4<f32>, 2>"
OpName %24 "ptr<storage, InStorage>"
OpName %25 "ptr<storage, array<vec4<f32>, 10>>"
OpName %26 "ptr<uniform, InUniform>"
OpName %27 "ptr<uniform, array<vec4<f32>, 20>>"
OpName %28 "ptr<workgroup, array<f32, 30>>"
OpName %29 "ptr<private, array<f32, 40>>"
OpName %30 "ptr<function, array<vec4<f32>, 2>>"
OpName %31 "in_storage"
OpName %34 "in_uniform"
OpName %37 "image_2d_array"
OpName %39 "in_workgroup"
OpName %40 "in_private"
OpName %42 "in_function"
OpName %45 "c"
OpName %46 "i"
OpName %47 "l"
OpName %48 "mock_function"
OpDecorate %14 ArrayStride 16
OpMemberDecorate %15 0 Offset 0
OpDecorate %16 ArrayStride 16
OpMemberDecorate %17 0 Offset 0
OpDecorate %19 ArrayStride 4
OpDecorate %20 ArrayStride 4
OpDecorate %23 ArrayStride 16
OpDecorate %31 NonWritable
OpDecorate %31 DescriptorSet 0
OpDecorate %31 Binding 0
OpDecorate %32 Block
OpMemberDecorate %32 0 Offset 0
OpDecorate %34 DescriptorSet 0
OpDecorate %34 Binding 1
OpDecorate %35 Block
OpMemberDecorate %35 0 Offset 0
OpDecorate %37 DescriptorSet 0
OpDecorate %37 Binding 2
%2 = OpTypeVoid
%4 = OpTypeInt 32 0
%3 = OpConstant  %4  10
%5 = OpConstant  %4  20
%6 = OpConstant  %4  30
%7 = OpConstant  %4  40
%9 = OpTypeFloat 32
%8 = OpConstant  %9  0.707
%10 = OpConstant  %9  0.0
%11 = OpConstant  %9  1.0
%12 = OpConstant  %4  2
%13 = OpTypeVector %9 4
%14 = OpTypeArray %13 %3
%15 = OpTypeStruct %14
%16 = OpTypeArray %13 %5
%17 = OpTypeStruct %16
%18 = OpTypeImage %9 2D 0 1 0 1 Unknown
%19 = OpTypeArray %9 %6
%20 = OpTypeArray %9 %7
%22 = OpTypeInt 32 1
%21 = OpTypeVector %22 2
%23 = OpTypeArray %13 %12
%24 = OpTypePointer StorageBuffer %15
%25 = OpTypePointer StorageBuffer %14
%26 = OpTypePointer Uniform %17
%27 = OpTypePointer Uniform %16
%28 = OpTypePointer Workgroup %19
%29 = OpTypePointer Private %20
%30 = OpTypePointer Function %23
%32 = OpTypeStruct %15
%33 = OpTypePointer StorageBuffer %32
%31 = OpVariable  %33  StorageBuffer
%35 = OpTypeStruct %17
%36 = OpTypePointer Uniform %35
%34 = OpVariable  %36  Uniform
%38 = OpTypePointer UniformConstant %18
%37 = OpVariable  %38  UniformConstant
%39 = OpVariable  %28  Workgroup
%41 = OpConstantNull  %20
%40 = OpVariable  %29  Private %41
%43 = OpConstantNull  %23
%49 = OpTypeFunction %13 %21 %22 %22
%50 = OpConstant  %4  0
%58 = OpTypePointer StorageBuffer %13
%61 = OpTypePointer Uniform %13
%65 = OpTypeVector %22 3
%67 = OpTypeBool
%68 = OpConstantNull  %13
%74 = OpTypeVector %67 3
%81 = OpTypePointer Workgroup %9
%82 = OpConstant  %4  29
%88 = OpTypePointer Private %9
%89 = OpConstant  %4  39
%95 = OpTypePointer Function %13
%96 = OpConstant  %4  1
%48 = OpFunction  %13  None %49
%45 = OpFunctionParameter  %21
%46 = OpFunctionParameter  %22
%47 = OpFunctionParameter  %22
%44 = OpLabel
%42 = OpVariable  %30  Function %43
%51 = OpAccessChain  %24  %31 %50
%52 = OpAccessChain  %26  %34 %50
%53 = OpLoad  %18  %37
OpBranch %54
%54 = OpLabel
%55 = OpCompositeConstruct  %13  %8 %10 %10 %11
%56 = OpCompositeConstruct  %13  %10 %8 %10 %11
%57 = OpCompositeConstruct  %23  %55 %56
OpStore %42 %57
%59 = OpAccessChain  %58  %51 %50 %46
%60 = OpLoad  %13  %59
%62 = OpAccessChain  %61  %52 %50 %46
%63 = OpLoad  %13  %62
%64 = OpFAdd  %13  %60 %63
%66 = OpCompositeConstruct  %65  %45 %46
%69 = OpImageQueryLevels  %22  %53
%70 = OpULessThan  %67  %47 %69
OpSelectionMerge %71 None
OpBranchConditional %70 %72 %71
%72 = OpLabel
%73 = OpImageQuerySizeLod  %65  %53 %47
%75 = OpULessThan  %74  %66 %73
%76 = OpAll  %67  %75
OpBranchConditional %76 %77 %71
%77 = OpLabel
%78 = OpImageFetch  %13  %53 %66 Lod %47
OpBranch %71
%71 = OpLabel
%79 = OpPhi  %13  %68 %54 %68 %72 %78 %77
%80 = OpFAdd  %13  %64 %79
%83 = OpExtInst  %4  %1 UMin %46 %82
%84 = OpAccessChain  %81  %39 %83
%85 = OpLoad  %9  %84
%86 = OpCompositeConstruct  %13  %85 %85 %85 %85
%87 = OpFAdd  %13  %80 %86
%90 = OpExtInst  %4  %1 UMin %46 %89
%91 = OpAccessChain  %88  %40 %90
%92 = OpLoad  %9  %91
%93 = OpCompositeConstruct  %13  %92 %92 %92 %92
%94 = OpFAdd  %13  %87 %93
%97 = OpExtInst  %4  %1 UMin %46 %96
%98 = OpAccessChain  %95  %42 %97
%99 = OpLoad  %13  %98
%100 = OpFAdd  %13  %94 %99
OpReturnValue %100
OpFunctionEnd