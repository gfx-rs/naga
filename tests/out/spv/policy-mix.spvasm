; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 108
OpCapability Shader
OpCapability ImageQuery
OpCapability Linkage
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpMemberName %8 0 "a"
OpName %8 "InStorage"
OpMemberName %11 0 "a"
OpName %11 "InUniform"
OpName %28 "in_storage"
OpName %31 "in_uniform"
OpName %34 "image_2d_array"
OpName %36 "in_workgroup"
OpName %38 "in_private"
OpName %41 "in_function"
OpName %45 "c"
OpName %46 "i"
OpName %47 "l"
OpName %48 "mock_function"
OpDecorate %5 ArrayStride 16
OpMemberDecorate %8 0 Offset 0
OpDecorate %9 ArrayStride 16
OpMemberDecorate %11 0 Offset 0
OpDecorate %13 ArrayStride 4
OpDecorate %15 ArrayStride 4
OpDecorate %19 ArrayStride 16
OpDecorate %28 NonWritable
OpDecorate %28 DescriptorSet 0
OpDecorate %28 Binding 0
OpDecorate %29 Block
OpMemberDecorate %29 0 Offset 0
OpDecorate %31 DescriptorSet 0
OpDecorate %31 Binding 1
OpDecorate %32 Block
OpMemberDecorate %32 0 Offset 0
OpDecorate %34 DescriptorSet 0
OpDecorate %34 Binding 2
%2 = OpTypeVoid
%4 = OpTypeFloat 32
%3 = OpTypeVector %4 4
%7 = OpTypeInt 32 0
%6 = OpConstant  %7  10
%5 = OpTypeArray %3 %6
%8 = OpTypeStruct %5
%10 = OpConstant  %7  20
%9 = OpTypeArray %3 %10
%11 = OpTypeStruct %9
%12 = OpTypeImage %4 2D 0 1 0 1 Unknown
%14 = OpConstant  %7  30
%13 = OpTypeArray %4 %14
%16 = OpConstant  %7  40
%15 = OpTypeArray %4 %16
%18 = OpTypeInt 32 1
%17 = OpTypeVector %18 2
%20 = OpConstant  %7  2
%19 = OpTypeArray %3 %20
%21 = OpConstant  %18  10
%22 = OpConstant  %18  0
%23 = OpConstant  %18  20
%24 = OpConstant  %18  1
%25 = OpConstant  %18  2
%26 = OpConstant  %18  30
%27 = OpConstant  %18  40
%29 = OpTypeStruct %8
%30 = OpTypePointer StorageBuffer %29
%28 = OpVariable  %30  StorageBuffer
%32 = OpTypeStruct %11
%33 = OpTypePointer Uniform %32
%31 = OpVariable  %33  Uniform
%35 = OpTypePointer UniformConstant %12
%34 = OpVariable  %35  UniformConstant
%37 = OpTypePointer Workgroup %13
%36 = OpVariable  %37  Workgroup
%39 = OpTypePointer Private %15
%40 = OpConstantNull  %15
%38 = OpVariable  %39  Private %40
%42 = OpTypePointer Function %19
%43 = OpConstantNull  %19
%49 = OpTypeFunction %3 %17 %18 %18
%50 = OpTypePointer StorageBuffer %8
%51 = OpConstant  %7  0
%53 = OpTypePointer Uniform %11
%56 = OpConstant  %4  0.707
%57 = OpConstant  %4  0.0
%58 = OpConstant  %4  1.0
%63 = OpTypePointer StorageBuffer %5
%64 = OpTypePointer StorageBuffer %3
%67 = OpTypePointer Uniform %9
%68 = OpTypePointer Uniform %3
%72 = OpTypeVector %18 3
%74 = OpTypeBool
%75 = OpConstantNull  %3
%81 = OpTypeVector %74 3
%88 = OpTypePointer Workgroup %4
%89 = OpConstant  %7  29
%95 = OpTypePointer Private %4
%96 = OpConstant  %7  39
%102 = OpTypePointer Function %3
%103 = OpConstant  %7  1
%48 = OpFunction  %3  None %49
%45 = OpFunctionParameter  %17
%46 = OpFunctionParameter  %18
%47 = OpFunctionParameter  %18
%44 = OpLabel
%41 = OpVariable  %42  Function %43
%52 = OpAccessChain  %50  %28 %51
%54 = OpAccessChain  %53  %31 %51
%55 = OpLoad  %12  %34
OpBranch %59
%59 = OpLabel
%60 = OpCompositeConstruct  %3  %56 %57 %57 %58
%61 = OpCompositeConstruct  %3  %57 %56 %57 %58
%62 = OpCompositeConstruct  %19  %60 %61
OpStore %41 %62
%65 = OpAccessChain  %64  %52 %51 %46
%66 = OpLoad  %3  %65
%69 = OpAccessChain  %68  %54 %51 %46
%70 = OpLoad  %3  %69
%71 = OpFAdd  %3  %66 %70
%73 = OpCompositeConstruct  %72  %45 %46
%76 = OpImageQueryLevels  %18  %55
%77 = OpULessThan  %74  %47 %76
OpSelectionMerge %78 None
OpBranchConditional %77 %79 %78
%79 = OpLabel
%80 = OpImageQuerySizeLod  %72  %55 %47
%82 = OpULessThan  %81  %73 %80
%83 = OpAll  %74  %82
OpBranchConditional %83 %84 %78
%84 = OpLabel
%85 = OpImageFetch  %3  %55 %73 Lod %47
OpBranch %78
%78 = OpLabel
%86 = OpPhi  %3  %75 %59 %75 %79 %85 %84
%87 = OpFAdd  %3  %71 %86
%90 = OpExtInst  %7  %1 UMin %46 %89
%91 = OpAccessChain  %88  %36 %90
%92 = OpLoad  %4  %91
%93 = OpCompositeConstruct  %3  %92 %92 %92 %92
%94 = OpFAdd  %3  %87 %93
%97 = OpExtInst  %7  %1 UMin %46 %96
%98 = OpAccessChain  %95  %38 %97
%99 = OpLoad  %4  %98
%100 = OpCompositeConstruct  %3  %99 %99 %99 %99
%101 = OpFAdd  %3  %94 %100
%104 = OpExtInst  %7  %1 UMin %46 %103
%105 = OpAccessChain  %102  %41 %104
%106 = OpLoad  %3  %105
%107 = OpFAdd  %3  %101 %106
OpReturnValue %107
OpFunctionEnd