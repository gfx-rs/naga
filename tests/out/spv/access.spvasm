; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 205
OpCapability Shader
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Vertex %129 "foo_vert" %124 %127
OpEntryPoint Fragment %165 "foo_frag" %164
OpEntryPoint GLCompute %182 "atomics"
OpExecutionMode %165 OriginUpperLeft
OpExecutionMode %182 LocalSize 1 1 1
OpSource GLSL 450
OpMemberName %31 0 "value"
OpName %31 "AlignedWrapper"
OpMemberName %40 0 "matrix"
OpMemberName %40 1 "matrix_array"
OpMemberName %40 2 "atom"
OpMemberName %40 3 "arr"
OpMemberName %40 4 "data"
OpName %40 "Bar"
OpMemberName %42 0 "m"
OpName %42 "Baz"
OpName %47 "bar"
OpName %49 "baz"
OpName %52 "idx"
OpName %54 "t"
OpName %57 "test_matrix_within_struct_accesses"
OpName %115 "foo"
OpName %116 "read_from_private"
OpName %120 "foo"
OpName %121 "c"
OpName %124 "vi"
OpName %129 "foo_vert"
OpName %165 "foo_frag"
OpName %180 "tmp"
OpName %182 "atomics"
OpMemberDecorate %31 0 Offset 0
OpDecorate %36 ArrayStride 16
OpDecorate %38 ArrayStride 8
OpDecorate %39 ArrayStride 8
OpMemberDecorate %40 0 Offset 0
OpMemberDecorate %40 0 ColMajor
OpMemberDecorate %40 0 MatrixStride 16
OpMemberDecorate %40 1 Offset 64
OpMemberDecorate %40 1 ColMajor
OpMemberDecorate %40 1 MatrixStride 8
OpMemberDecorate %40 2 Offset 96
OpMemberDecorate %40 3 Offset 104
OpMemberDecorate %40 4 Offset 120
OpMemberDecorate %42 0 Offset 0
OpMemberDecorate %42 0 ColMajor
OpMemberDecorate %42 0 MatrixStride 8
OpDecorate %46 ArrayStride 4
OpDecorate %47 DescriptorSet 0
OpDecorate %47 Binding 0
OpDecorate %40 Block
OpDecorate %49 DescriptorSet 0
OpDecorate %49 Binding 1
OpDecorate %50 Block
OpMemberDecorate %50 0 Offset 0
OpDecorate %124 BuiltIn VertexIndex
OpDecorate %127 BuiltIn Position
OpDecorate %164 Location 0
%2 = OpTypeVoid
%4 = OpTypeInt 32 1
%3 = OpConstant  %4  2
%5 = OpConstant  %4  9
%6 = OpConstant  %4  1
%7 = OpConstant  %4  0
%9 = OpTypeFloat 32
%8 = OpConstant  %9  1.0
%10 = OpConstant  %9  2.0
%11 = OpConstant  %9  3.0
%12 = OpConstant  %9  6.0
%13 = OpConstant  %9  5.0
%14 = OpConstant  %9  4.0
%15 = OpConstant  %9  9.0
%16 = OpConstant  %9  90.0
%17 = OpConstant  %9  10.0
%18 = OpConstant  %9  20.0
%19 = OpConstant  %9  30.0
%20 = OpConstant  %9  40.0
%21 = OpConstant  %9  0.0
%23 = OpTypeInt 32 0
%22 = OpConstant  %23  3
%24 = OpConstant  %23  2
%25 = OpConstant  %4  5
%26 = OpConstant  %4  3
%27 = OpConstant  %4  4
%28 = OpConstant  %23  1
%29 = OpConstant  %4  42
%30 = OpConstant  %23  0
%31 = OpTypeStruct %4
%33 = OpTypeVector %9 3
%32 = OpTypeMatrix %33 4
%35 = OpTypeVector %9 2
%34 = OpTypeMatrix %35 2
%36 = OpTypeArray %34 %3
%37 = OpTypeVector %23 2
%38 = OpTypeArray %37 %3
%39 = OpTypeRuntimeArray %31
%40 = OpTypeStruct %32 %36 %4 %38 %39
%41 = OpTypeMatrix %35 3
%42 = OpTypeStruct %41
%43 = OpTypePointer Function %9
%44 = OpTypeVector %9 4
%45 = OpTypePointer StorageBuffer %4
%46 = OpTypeArray %4 %25
%48 = OpTypePointer StorageBuffer %40
%47 = OpVariable  %48  StorageBuffer
%50 = OpTypeStruct %42
%51 = OpTypePointer Uniform %50
%49 = OpVariable  %51  Uniform
%53 = OpTypePointer Function %4
%55 = OpTypePointer Function %42
%58 = OpTypeFunction %2
%59 = OpTypePointer Uniform %42
%64 = OpTypePointer Uniform %41
%67 = OpTypePointer Uniform %35
%73 = OpTypePointer Uniform %9
%93 = OpTypePointer Function %41
%99 = OpTypePointer Function %35
%105 = OpTypePointer Function %9
%117 = OpTypeFunction %9 %43
%122 = OpTypePointer Function %46
%125 = OpTypePointer Input %23
%124 = OpVariable  %125  Input
%128 = OpTypePointer Output %44
%127 = OpVariable  %128  Output
%134 = OpTypePointer StorageBuffer %32
%137 = OpTypePointer StorageBuffer %38
%140 = OpTypePointer StorageBuffer %33
%141 = OpTypePointer StorageBuffer %9
%144 = OpTypePointer StorageBuffer %39
%147 = OpTypePointer StorageBuffer %31
%148 = OpConstant  %23  4
%158 = OpTypeVector %4 4
%164 = OpVariable  %128  Output
%184 = OpTypePointer StorageBuffer %4
%187 = OpConstant  %23  64
%57 = OpFunction  %2  None %58
%56 = OpLabel
%52 = OpVariable  %53  Function %5
%54 = OpVariable  %55  Function
%60 = OpAccessChain  %59  %49 %30
OpBranch %61
%61 = OpLabel
%62 = OpLoad  %4  %52
%63 = OpISub  %4  %62 %6
OpStore %52 %63
%65 = OpAccessChain  %64  %60 %30
%66 = OpLoad  %41  %65
%68 = OpAccessChain  %67  %60 %30 %30
%69 = OpLoad  %35  %68
%70 = OpLoad  %4  %52
%71 = OpAccessChain  %67  %60 %30 %70
%72 = OpLoad  %35  %71
%74 = OpAccessChain  %73  %60 %30 %30 %28
%75 = OpLoad  %9  %74
%76 = OpLoad  %4  %52
%77 = OpAccessChain  %73  %60 %30 %30 %76
%78 = OpLoad  %9  %77
%79 = OpLoad  %4  %52
%80 = OpAccessChain  %73  %60 %30 %79 %28
%81 = OpLoad  %9  %80
%82 = OpLoad  %4  %52
%83 = OpLoad  %4  %52
%84 = OpAccessChain  %73  %60 %30 %82 %83
%85 = OpLoad  %9  %84
%86 = OpCompositeConstruct  %35  %8 %8
%87 = OpCompositeConstruct  %35  %10 %10
%88 = OpCompositeConstruct  %35  %11 %11
%89 = OpCompositeConstruct  %41  %86 %87 %88
%90 = OpCompositeConstruct  %42  %89
OpStore %54 %90
%91 = OpLoad  %4  %52
%92 = OpIAdd  %4  %91 %6
OpStore %52 %92
%94 = OpCompositeConstruct  %35  %12 %12
%95 = OpCompositeConstruct  %35  %13 %13
%96 = OpCompositeConstruct  %35  %14 %14
%97 = OpCompositeConstruct  %41  %94 %95 %96
%98 = OpAccessChain  %93  %54 %30
OpStore %98 %97
%100 = OpCompositeConstruct  %35  %15 %15
%101 = OpAccessChain  %99  %54 %30 %30
OpStore %101 %100
%102 = OpLoad  %4  %52
%103 = OpCompositeConstruct  %35  %16 %16
%104 = OpAccessChain  %99  %54 %30 %102
OpStore %104 %103
%106 = OpAccessChain  %105  %54 %30 %30 %28
OpStore %106 %17
%107 = OpLoad  %4  %52
%108 = OpAccessChain  %105  %54 %30 %30 %107
OpStore %108 %18
%109 = OpLoad  %4  %52
%110 = OpAccessChain  %105  %54 %30 %109 %28
OpStore %110 %19
%111 = OpLoad  %4  %52
%112 = OpLoad  %4  %52
%113 = OpAccessChain  %105  %54 %30 %111 %112
OpStore %113 %20
OpReturn
OpFunctionEnd
%116 = OpFunction  %9  None %117
%115 = OpFunctionParameter  %43
%114 = OpLabel
OpBranch %118
%118 = OpLabel
%119 = OpLoad  %9  %115
OpReturnValue %119
OpFunctionEnd
%129 = OpFunction  %2  None %58
%123 = OpLabel
%120 = OpVariable  %43  Function %21
%121 = OpVariable  %122  Function
%126 = OpLoad  %23  %124
%130 = OpAccessChain  %59  %49 %30
OpBranch %131
%131 = OpLabel
%132 = OpLoad  %9  %120
OpStore %120 %8
%133 = OpFunctionCall  %2  %57
%135 = OpAccessChain  %134  %47 %30
%136 = OpLoad  %32  %135
%138 = OpAccessChain  %137  %47 %22
%139 = OpLoad  %38  %138
%142 = OpAccessChain  %141  %47 %30 %22 %30
%143 = OpLoad  %9  %142
%145 = OpArrayLength  %23  %47 4
%146 = OpISub  %23  %145 %24
%149 = OpAccessChain  %45  %47 %148 %146 %30
%150 = OpLoad  %4  %149
%151 = OpFunctionCall  %9  %116 %120
%152 = OpConvertFToS  %4  %143
%153 = OpCompositeConstruct  %46  %150 %152 %26 %27 %25
OpStore %121 %153
%154 = OpIAdd  %23  %126 %28
%155 = OpAccessChain  %53  %121 %154
OpStore %155 %29
%156 = OpAccessChain  %53  %121 %126
%157 = OpLoad  %4  %156
%159 = OpCompositeConstruct  %158  %157 %157 %157 %157
%160 = OpConvertSToF  %44  %159
%161 = OpMatrixTimesVector  %33  %136 %160
%162 = OpCompositeConstruct  %44  %161 %10
OpStore %127 %162
OpReturn
OpFunctionEnd
%165 = OpFunction  %2  None %58
%163 = OpLabel
OpBranch %166
%166 = OpLabel
%167 = OpAccessChain  %141  %47 %30 %28 %24
OpStore %167 %8
%168 = OpCompositeConstruct  %33  %21 %21 %21
%169 = OpCompositeConstruct  %33  %8 %8 %8
%170 = OpCompositeConstruct  %33  %10 %10 %10
%171 = OpCompositeConstruct  %33  %11 %11 %11
%172 = OpCompositeConstruct  %32  %168 %169 %170 %171
%173 = OpAccessChain  %134  %47 %30
OpStore %173 %172
%174 = OpCompositeConstruct  %37  %30 %30
%175 = OpCompositeConstruct  %37  %28 %28
%176 = OpCompositeConstruct  %38  %174 %175
%177 = OpAccessChain  %137  %47 %22
OpStore %177 %176
%178 = OpAccessChain  %45  %47 %148 %28 %30
OpStore %178 %6
%179 = OpCompositeConstruct  %44  %21 %21 %21 %21
OpStore %164 %179
OpReturn
OpFunctionEnd
%182 = OpFunction  %2  None %58
%181 = OpLabel
%180 = OpVariable  %53  Function
OpBranch %183
%183 = OpLabel
%185 = OpAccessChain  %184  %47 %24
%186 = OpAtomicLoad  %4  %185 %6 %187
%189 = OpAccessChain  %184  %47 %24
%188 = OpAtomicIAdd  %4  %189 %6 %187 %25
OpStore %180 %188
%191 = OpAccessChain  %184  %47 %24
%190 = OpAtomicISub  %4  %191 %6 %187 %25
OpStore %180 %190
%193 = OpAccessChain  %184  %47 %24
%192 = OpAtomicAnd  %4  %193 %6 %187 %25
OpStore %180 %192
%195 = OpAccessChain  %184  %47 %24
%194 = OpAtomicOr  %4  %195 %6 %187 %25
OpStore %180 %194
%197 = OpAccessChain  %184  %47 %24
%196 = OpAtomicXor  %4  %197 %6 %187 %25
OpStore %180 %196
%199 = OpAccessChain  %184  %47 %24
%198 = OpAtomicSMin  %4  %199 %6 %187 %25
OpStore %180 %198
%201 = OpAccessChain  %184  %47 %24
%200 = OpAtomicSMax  %4  %201 %6 %187 %25
OpStore %180 %200
%203 = OpAccessChain  %184  %47 %24
%202 = OpAtomicExchange  %4  %203 %6 %187 %25
OpStore %180 %202
%204 = OpAccessChain  %184  %47 %24
OpAtomicStore %204 %6 %187 %186
OpReturn
OpFunctionEnd