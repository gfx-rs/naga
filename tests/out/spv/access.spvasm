; SPIR-V
; Version: 1.1
; Generator: rspirv
; Bound: 221
OpCapability Shader
OpExtension "SPV_KHR_storage_buffer_storage_class"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Vertex %143 "foo_vert" %138 %141
OpEntryPoint Fragment %180 "foo_frag" %179
OpEntryPoint GLCompute %198 "atomics"
OpExecutionMode %180 OriginUpperLeft
OpExecutionMode %198 LocalSize 1 1 1
OpSource GLSL 450
OpMemberName %32 0 "value"
OpName %32 "AlignedWrapper"
OpMemberName %41 0 "_matrix"
OpMemberName %41 1 "matrix_array"
OpMemberName %41 2 "atom"
OpMemberName %41 3 "arr"
OpMemberName %41 4 "data"
OpName %41 "Bar"
OpMemberName %43 0 "m"
OpName %43 "Baz"
OpName %52 "bar"
OpName %54 "baz"
OpName %57 "idx"
OpName %59 "t"
OpName %63 "test_matrix_within_struct_accesses"
OpName %121 "foo"
OpName %122 "read_from_private"
OpName %127 "a"
OpName %128 "test_arr_as_arg"
OpName %133 "foo"
OpName %134 "c"
OpName %138 "vi"
OpName %143 "foo_vert"
OpName %180 "foo_frag"
OpName %195 "tmp"
OpName %198 "atomics"
OpMemberDecorate %32 0 Offset 0
OpDecorate %37 ArrayStride 16
OpDecorate %39 ArrayStride 8
OpDecorate %40 ArrayStride 8
OpMemberDecorate %41 0 Offset 0
OpMemberDecorate %41 0 ColMajor
OpMemberDecorate %41 0 MatrixStride 16
OpMemberDecorate %41 1 Offset 64
OpMemberDecorate %41 1 ColMajor
OpMemberDecorate %41 1 MatrixStride 8
OpMemberDecorate %41 2 Offset 96
OpMemberDecorate %41 3 Offset 104
OpMemberDecorate %41 4 Offset 120
OpMemberDecorate %43 0 Offset 0
OpMemberDecorate %43 0 ColMajor
OpMemberDecorate %43 0 MatrixStride 8
OpDecorate %45 ArrayStride 4
OpDecorate %46 ArrayStride 40
OpDecorate %49 ArrayStride 4
OpDecorate %52 DescriptorSet 0
OpDecorate %52 Binding 0
OpDecorate %41 Block
OpDecorate %54 DescriptorSet 0
OpDecorate %54 Binding 1
OpDecorate %55 Block
OpMemberDecorate %55 0 Offset 0
OpDecorate %138 BuiltIn VertexIndex
OpDecorate %141 BuiltIn Position
OpDecorate %179 Location 0
%2 = OpTypeVoid
%4 = OpTypeInt 32 1
%3 = OpConstant  %4  2
%5 = OpConstant  %4  9
%6 = OpConstant  %4  1
%7 = OpConstant  %4  0
%9 = OpTypeFloat 32
%8 = OpConstant  %9  1.0
%10 = OpConstant  %9  2.0
%11 = OpConstant  %9  3.0
%12 = OpConstant  %9  6.0
%13 = OpConstant  %9  5.0
%14 = OpConstant  %9  4.0
%15 = OpConstant  %9  9.0
%16 = OpConstant  %9  90.0
%17 = OpConstant  %9  10.0
%18 = OpConstant  %9  20.0
%19 = OpConstant  %9  30.0
%20 = OpConstant  %9  40.0
%21 = OpConstant  %4  10
%22 = OpConstant  %4  5
%23 = OpConstant  %4  4
%24 = OpConstant  %9  0.0
%26 = OpTypeInt 32 0
%25 = OpConstant  %26  3
%27 = OpConstant  %26  2
%28 = OpConstant  %4  3
%29 = OpConstant  %26  1
%30 = OpConstant  %4  42
%31 = OpConstant  %26  0
%32 = OpTypeStruct %4
%34 = OpTypeVector %9 3
%33 = OpTypeMatrix %34 4
%36 = OpTypeVector %9 2
%35 = OpTypeMatrix %36 2
%37 = OpTypeArray %35 %3
%38 = OpTypeVector %26 2
%39 = OpTypeArray %38 %3
%40 = OpTypeRuntimeArray %32
%41 = OpTypeStruct %33 %37 %4 %39 %40
%42 = OpTypeMatrix %36 3
%43 = OpTypeStruct %42
%44 = OpTypePointer Function %9
%45 = OpTypeArray %9 %21
%46 = OpTypeArray %45 %22
%47 = OpTypeVector %9 4
%48 = OpTypePointer StorageBuffer %4
%49 = OpTypeArray %4 %22
%50 = OpConstantComposite  %45  %24 %24 %24 %24 %24 %24 %24 %24 %24 %24
%51 = OpConstantComposite  %46  %50 %50 %50 %50 %50
%53 = OpTypePointer StorageBuffer %41
%52 = OpVariable  %53  StorageBuffer
%55 = OpTypeStruct %43
%56 = OpTypePointer Uniform %55
%54 = OpVariable  %56  Uniform
%58 = OpTypePointer Function %4
%60 = OpTypePointer Function %43
%61 = OpConstantNull  %43
%64 = OpTypeFunction %2
%65 = OpTypePointer Uniform %43
%70 = OpTypePointer Uniform %42
%73 = OpTypePointer Uniform %36
%79 = OpTypePointer Uniform %9
%99 = OpTypePointer Function %42
%105 = OpTypePointer Function %36
%111 = OpTypePointer Function %9
%123 = OpTypeFunction %9 %44
%129 = OpTypeFunction %9 %46
%135 = OpTypePointer Function %49
%136 = OpConstantNull  %49
%139 = OpTypePointer Input %26
%138 = OpVariable  %139  Input
%142 = OpTypePointer Output %47
%141 = OpVariable  %142  Output
%148 = OpTypePointer StorageBuffer %33
%151 = OpTypePointer StorageBuffer %39
%154 = OpTypePointer StorageBuffer %34
%155 = OpTypePointer StorageBuffer %9
%158 = OpTypePointer StorageBuffer %40
%161 = OpTypePointer StorageBuffer %32
%162 = OpConstant  %26  4
%173 = OpTypeVector %4 4
%179 = OpVariable  %142  Output
%196 = OpConstantNull  %4
%200 = OpTypePointer StorageBuffer %4
%203 = OpConstant  %26  64
%63 = OpFunction  %2  None %64
%62 = OpLabel
%57 = OpVariable  %58  Function %5
%59 = OpVariable  %60  Function %61
%66 = OpAccessChain  %65  %54 %31
OpBranch %67
%67 = OpLabel
%68 = OpLoad  %4  %57
%69 = OpISub  %4  %68 %6
OpStore %57 %69
%71 = OpAccessChain  %70  %66 %31
%72 = OpLoad  %42  %71
%74 = OpAccessChain  %73  %66 %31 %31
%75 = OpLoad  %36  %74
%76 = OpLoad  %4  %57
%77 = OpAccessChain  %73  %66 %31 %76
%78 = OpLoad  %36  %77
%80 = OpAccessChain  %79  %66 %31 %31 %29
%81 = OpLoad  %9  %80
%82 = OpLoad  %4  %57
%83 = OpAccessChain  %79  %66 %31 %31 %82
%84 = OpLoad  %9  %83
%85 = OpLoad  %4  %57
%86 = OpAccessChain  %79  %66 %31 %85 %29
%87 = OpLoad  %9  %86
%88 = OpLoad  %4  %57
%89 = OpLoad  %4  %57
%90 = OpAccessChain  %79  %66 %31 %88 %89
%91 = OpLoad  %9  %90
%92 = OpCompositeConstruct  %36  %8 %8
%93 = OpCompositeConstruct  %36  %10 %10
%94 = OpCompositeConstruct  %36  %11 %11
%95 = OpCompositeConstruct  %42  %92 %93 %94
%96 = OpCompositeConstruct  %43  %95
OpStore %59 %96
%97 = OpLoad  %4  %57
%98 = OpIAdd  %4  %97 %6
OpStore %57 %98
%100 = OpCompositeConstruct  %36  %12 %12
%101 = OpCompositeConstruct  %36  %13 %13
%102 = OpCompositeConstruct  %36  %14 %14
%103 = OpCompositeConstruct  %42  %100 %101 %102
%104 = OpAccessChain  %99  %59 %31
OpStore %104 %103
%106 = OpCompositeConstruct  %36  %15 %15
%107 = OpAccessChain  %105  %59 %31 %31
OpStore %107 %106
%108 = OpLoad  %4  %57
%109 = OpCompositeConstruct  %36  %16 %16
%110 = OpAccessChain  %105  %59 %31 %108
OpStore %110 %109
%112 = OpAccessChain  %111  %59 %31 %31 %29
OpStore %112 %17
%113 = OpLoad  %4  %57
%114 = OpAccessChain  %111  %59 %31 %31 %113
OpStore %114 %18
%115 = OpLoad  %4  %57
%116 = OpAccessChain  %111  %59 %31 %115 %29
OpStore %116 %19
%117 = OpLoad  %4  %57
%118 = OpLoad  %4  %57
%119 = OpAccessChain  %111  %59 %31 %117 %118
OpStore %119 %20
OpReturn
OpFunctionEnd
%122 = OpFunction  %9  None %123
%121 = OpFunctionParameter  %44
%120 = OpLabel
OpBranch %124
%124 = OpLabel
%125 = OpLoad  %9  %121
OpReturnValue %125
OpFunctionEnd
%128 = OpFunction  %9  None %129
%127 = OpFunctionParameter  %46
%126 = OpLabel
OpBranch %130
%130 = OpLabel
%131 = OpCompositeExtract  %45  %127 4
%132 = OpCompositeExtract  %9  %131 9
OpReturnValue %132
OpFunctionEnd
%143 = OpFunction  %2  None %64
%137 = OpLabel
%133 = OpVariable  %44  Function %24
%134 = OpVariable  %135  Function %136
%140 = OpLoad  %26  %138
%144 = OpAccessChain  %65  %54 %31
OpBranch %145
%145 = OpLabel
%146 = OpLoad  %9  %133
OpStore %133 %8
%147 = OpFunctionCall  %2  %63
%149 = OpAccessChain  %148  %52 %31
%150 = OpLoad  %33  %149
%152 = OpAccessChain  %151  %52 %25
%153 = OpLoad  %39  %152
%156 = OpAccessChain  %155  %52 %31 %25 %31
%157 = OpLoad  %9  %156
%159 = OpArrayLength  %26  %52 4
%160 = OpISub  %26  %159 %27
%163 = OpAccessChain  %48  %52 %162 %160 %31
%164 = OpLoad  %4  %163
%165 = OpFunctionCall  %9  %122 %133
%166 = OpConvertFToS  %4  %157
%167 = OpCompositeConstruct  %49  %164 %166 %28 %23 %22
OpStore %134 %167
%168 = OpIAdd  %26  %140 %29
%169 = OpAccessChain  %58  %134 %168
OpStore %169 %30
%170 = OpAccessChain  %58  %134 %140
%171 = OpLoad  %4  %170
%172 = OpFunctionCall  %9  %128 %51
%174 = OpCompositeConstruct  %173  %171 %171 %171 %171
%175 = OpConvertSToF  %47  %174
%176 = OpMatrixTimesVector  %34  %150 %175
%177 = OpCompositeConstruct  %47  %176 %10
OpStore %141 %177
OpReturn
OpFunctionEnd
%180 = OpFunction  %2  None %64
%178 = OpLabel
OpBranch %181
%181 = OpLabel
%182 = OpAccessChain  %155  %52 %31 %29 %27
OpStore %182 %8
%183 = OpCompositeConstruct  %34  %24 %24 %24
%184 = OpCompositeConstruct  %34  %8 %8 %8
%185 = OpCompositeConstruct  %34  %10 %10 %10
%186 = OpCompositeConstruct  %34  %11 %11 %11
%187 = OpCompositeConstruct  %33  %183 %184 %185 %186
%188 = OpAccessChain  %148  %52 %31
OpStore %188 %187
%189 = OpCompositeConstruct  %38  %31 %31
%190 = OpCompositeConstruct  %38  %29 %29
%191 = OpCompositeConstruct  %39  %189 %190
%192 = OpAccessChain  %151  %52 %25
OpStore %192 %191
%193 = OpAccessChain  %48  %52 %162 %29 %31
OpStore %193 %6
%194 = OpCompositeConstruct  %47  %24 %24 %24 %24
OpStore %179 %194
OpReturn
OpFunctionEnd
%198 = OpFunction  %2  None %64
%197 = OpLabel
%195 = OpVariable  %58  Function %196
OpBranch %199
%199 = OpLabel
%201 = OpAccessChain  %200  %52 %27
%202 = OpAtomicLoad  %4  %201 %6 %203
%205 = OpAccessChain  %200  %52 %27
%204 = OpAtomicIAdd  %4  %205 %6 %203 %22
OpStore %195 %204
%207 = OpAccessChain  %200  %52 %27
%206 = OpAtomicISub  %4  %207 %6 %203 %22
OpStore %195 %206
%209 = OpAccessChain  %200  %52 %27
%208 = OpAtomicAnd  %4  %209 %6 %203 %22
OpStore %195 %208
%211 = OpAccessChain  %200  %52 %27
%210 = OpAtomicOr  %4  %211 %6 %203 %22
OpStore %195 %210
%213 = OpAccessChain  %200  %52 %27
%212 = OpAtomicXor  %4  %213 %6 %203 %22
OpStore %195 %212
%215 = OpAccessChain  %200  %52 %27
%214 = OpAtomicSMin  %4  %215 %6 %203 %22
OpStore %195 %214
%217 = OpAccessChain  %200  %52 %27
%216 = OpAtomicSMax  %4  %217 %6 %203 %22
OpStore %195 %216
%219 = OpAccessChain  %200  %52 %27
%218 = OpAtomicExchange  %4  %219 %6 %203 %22
OpStore %195 %218
%220 = OpAccessChain  %200  %52 %27
OpAtomicStore %220 %6 %203 %202
OpReturn
OpFunctionEnd