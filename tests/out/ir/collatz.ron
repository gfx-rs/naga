(
    types: [
        (
            name: Some("u32"),
            inner: Scalar(
                kind: Uint,
                width: 4,
            ),
        ),
        (
            name: Some("array<u32>"),
            inner: Array(
                base: 1,
                size: Dynamic,
                stride: 4,
            ),
        ),
        (
            name: Some("PrimeIndices"),
            inner: Struct(
                members: [
                    (
                        name: Some("data"),
                        ty: 2,
                        binding: None,
                        offset: 0,
                    ),
                ],
                span: 4,
            ),
        ),
        (
            name: Some("vec3<u32>"),
            inner: Vector(
                size: Tri,
                kind: Uint,
                width: 4,
            ),
        ),
        (
            name: Some("ptr<storage, PrimeIndices>"),
            inner: Pointer(
                base: 3,
                space: Storage(
                    access: (
                        bits: 3,
                    ),
                ),
            ),
        ),
    ],
    constants: [
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(0),
            ),
        ),
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(1),
            ),
        ),
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(2),
            ),
        ),
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(0),
            ),
        ),
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(2),
            ),
        ),
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(3),
            ),
        ),
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(1),
            ),
        ),
        (
            name: None,
            specialization: None,
            inner: Scalar(
                width: 4,
                value: Uint(1),
            ),
        ),
    ],
    global_variables: [
        (
            name: Some("v_indices"),
            space: Storage(
                access: (
                    bits: 3,
                ),
            ),
            binding: Some((
                group: 0,
                binding: 0,
            )),
            ty: 3,
            init: None,
        ),
    ],
    functions: [
        (
            name: Some("collatz_iterations"),
            arguments: [
                (
                    name: Some("n_base"),
                    ty: 1,
                    binding: None,
                ),
            ],
            result: Some((
                ty: 1,
                binding: None,
            )),
            local_variables: [
                (
                    name: Some("n"),
                    ty: 1,
                    init: None,
                ),
                (
                    name: Some("i"),
                    ty: 1,
                    init: None,
                ),
            ],
            expressions: [
                FunctionArgument(0),
                LocalVariable(1),
                Constant(1),
                LocalVariable(2),
                LocalVariable(1),
                Load(
                    pointer: 5,
                ),
                Constant(2),
                Binary(
                    op: Greater,
                    left: 6,
                    right: 7,
                ),
                LocalVariable(1),
                Load(
                    pointer: 9,
                ),
                Constant(3),
                Binary(
                    op: Modulo,
                    left: 10,
                    right: 11,
                ),
                Constant(4),
                Binary(
                    op: Equal,
                    left: 12,
                    right: 13,
                ),
                LocalVariable(1),
                Load(
                    pointer: 15,
                ),
                Constant(5),
                Binary(
                    op: Divide,
                    left: 16,
                    right: 17,
                ),
                LocalVariable(1),
                Constant(6),
                LocalVariable(1),
                Load(
                    pointer: 21,
                ),
                Binary(
                    op: Multiply,
                    left: 20,
                    right: 22,
                ),
                Constant(7),
                Binary(
                    op: Add,
                    left: 23,
                    right: 24,
                ),
                LocalVariable(1),
                LocalVariable(2),
                Load(
                    pointer: 27,
                ),
                Constant(8),
                Binary(
                    op: Add,
                    left: 28,
                    right: 29,
                ),
                LocalVariable(2),
                LocalVariable(2),
                Load(
                    pointer: 32,
                ),
            ],
            named_expressions: {
                1: "n",
                3: "i",
            },
            body: [
                Store(
                    pointer: 2,
                    value: 1,
                ),
                Store(
                    pointer: 4,
                    value: 3,
                ),
                Loop(
                    body: [
                        Emit((
                            start: 5,
                            end: 6,
                        )),
                        Emit((
                            start: 7,
                            end: 8,
                        )),
                        If(
                            condition: 8,
                            accept: [],
                            reject: [
                                Break,
                            ],
                        ),
                        Block([
                            Emit((
                                start: 9,
                                end: 10,
                            )),
                            Emit((
                                start: 11,
                                end: 12,
                            )),
                            Emit((
                                start: 13,
                                end: 14,
                            )),
                            If(
                                condition: 14,
                                accept: [
                                    Emit((
                                        start: 15,
                                        end: 16,
                                    )),
                                    Emit((
                                        start: 17,
                                        end: 18,
                                    )),
                                    Store(
                                        pointer: 19,
                                        value: 18,
                                    ),
                                ],
                                reject: [
                                    Block([
                                        Emit((
                                            start: 21,
                                            end: 22,
                                        )),
                                        Emit((
                                            start: 22,
                                            end: 23,
                                        )),
                                        Emit((
                                            start: 24,
                                            end: 25,
                                        )),
                                        Store(
                                            pointer: 26,
                                            value: 25,
                                        ),
                                    ]),
                                ],
                            ),
                            Emit((
                                start: 27,
                                end: 28,
                            )),
                            Emit((
                                start: 29,
                                end: 30,
                            )),
                            Store(
                                pointer: 31,
                                value: 30,
                            ),
                        ]),
                    ],
                    continuing: [],
                    break_if: None,
                ),
                Emit((
                    start: 32,
                    end: 33,
                )),
                Return(
                    value: Some(33),
                ),
            ],
        ),
    ],
    entry_points: [
        (
            name: "main",
            stage: Compute,
            early_depth_test: None,
            workgroup_size: (1, 1, 1),
            function: (
                name: Some("main"),
                arguments: [
                    (
                        name: Some("global_id"),
                        ty: 4,
                        binding: Some(BuiltIn(GlobalInvocationId)),
                    ),
                ],
                result: None,
                local_variables: [],
                expressions: [
                    CallResult(1),
                    GlobalVariable(1),
                    AccessIndex(
                        base: 2,
                        index: 0,
                    ),
                    FunctionArgument(0),
                    AccessIndex(
                        base: 4,
                        index: 0,
                    ),
                    Access(
                        base: 3,
                        index: 5,
                    ),
                    Load(
                        pointer: 6,
                    ),
                    GlobalVariable(1),
                    AccessIndex(
                        base: 8,
                        index: 0,
                    ),
                    FunctionArgument(0),
                    AccessIndex(
                        base: 10,
                        index: 0,
                    ),
                    Access(
                        base: 9,
                        index: 11,
                    ),
                ],
                named_expressions: {},
                body: [
                    Emit((
                        start: 2,
                        end: 3,
                    )),
                    Emit((
                        start: 4,
                        end: 5,
                    )),
                    Emit((
                        start: 5,
                        end: 6,
                    )),
                    Emit((
                        start: 6,
                        end: 7,
                    )),
                    Call(
                        function: 1,
                        arguments: [
                            7,
                        ],
                        result: Some(1),
                    ),
                    Emit((
                        start: 8,
                        end: 9,
                    )),
                    Emit((
                        start: 10,
                        end: 11,
                    )),
                    Emit((
                        start: 11,
                        end: 12,
                    )),
                    Store(
                        pointer: 12,
                        value: 1,
                    ),
                    Return(
                        value: None,
                    ),
                ],
            ),
        ),
    ],
)